{% extends 'core/base.html' %}

{% block title %}Logout{% endblock %}

{% block content %}
    <div class="container mx-auto py-8">
        <div class="bg-white p-8 rounded-lg shadow-md text-center">
            <h1 class="text-3xl font-bold mb-4">You've Been Logged Out</h1>
            <p class="text-lg text-gray-700 mb-6">You have been successfully logged out of MarketHub.</p>
            
            <div id="countdown" class="text-2xl text-red-500 font-bold mb-4">{{ redirect_time }}</div>
            
            <p class="text-gray-600 mb-4">Redirecting you back to the home page...</p>
            
        </div>
    </div>

    <script>
        let timeLeft = {{ redirect_time }};
        const countdownElement = document.getElementById('countdown');

        const countdown = setInterval(() => {
            timeLeft--;
            countdownElement.textContent = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(countdown);
                window.location.href = "{% url 'index' %}";
            }
        }, 1000);

        document.getElementById('cancelRedirect').addEventListener('click', () => {
            clearInterval(countdown);
        });
    </script>
{% endblock %}
